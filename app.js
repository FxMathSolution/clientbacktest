(()=>{"use strict";var e={267:(e,s,a)=>{var t=a(130),r=a(768);const l={id:"app"};function o(e,s,a,o,n,i){const c=(0,r.g2)("basket-list"),d=(0,r.g2)("basket-detail");return(0,r.uX)(),(0,r.CE)("div",l,[s[1]||(s[1]=(0,r.Lk)("header",null,[(0,r.Lk)("h1",null,[(0,r.Lk)("i",{class:"fas fa-chart-line"}),(0,r.eW)(" FxTurn Trade Fusion AI Basket Analysis")])],-1)),(0,r.Lk)("main",null,[(0,r.bF)(t.eB,{name:"fade",mode:"out-in"},{default:(0,r.k6)((()=>[n.selectedBasket?((0,r.uX)(),(0,r.Wv)(d,{key:1,basket:n.selectedBasket,onBack:s[0]||(s[0]=e=>n.selectedBasket=null)},null,8,["basket"])):((0,r.uX)(),(0,r.Wv)(c,{key:0,baskets:n.baskets,onViewBasket:i.selectBasket,onUpdateBaskets:i.updateBaskets},null,8,["baskets","onViewBasket","onUpdateBaskets"]))])),_:1})]),s[2]||(s[2]=(0,r.Lk)("footer",null,[(0,r.Lk)("p",null,[(0,r.eW)("Powered by "),(0,r.Lk)("a",{href:"https://www.fxturn.com"},"FxTurn Trade Fusion AI")])],-1))])}var n=a(232);const i={class:"basket-list"},c={class:"upload-prompt"},d={class:"file-input-label"},u={key:0,class:"loading-overlay"},p={class:"loading-content"},k={class:"progress-bar"},f={class:"progress-text"},h={key:1,class:"baskets-header"},g={key:2,class:"baskets-grid"},v={class:"basket-header"},b=["onClick"],m={class:"basket-stats"},L={class:"stat"},C={class:"value"},w={class:"stat"},y={class:"stat"},F={class:"value"},D={class:"stat"},B={class:"value negative"},P={class:"stat"},E={class:"value"},_=["onClick"],T={key:3,class:"no-baskets"};function x(e,s,a,l,o,x){return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.Lk)("div",{class:(0,n.C4)(["upload-zone",{"drag-active":o.isDragging}]),onDrop:s[1]||(s[1]=(0,t.D$)(((...e)=>x.handleDrop&&x.handleDrop(...e)),["prevent"])),onDragover:s[2]||(s[2]=(0,t.D$)(((...e)=>x.handleDragOver&&x.handleDragOver(...e)),["prevent"])),onDragenter:s[3]||(s[3]=(0,t.D$)((()=>{}),["prevent"])),onDragleave:s[4]||(s[4]=(0,t.D$)(((...e)=>x.handleDragLeave&&x.handleDragLeave(...e)),["prevent"]))},[(0,r.Lk)("div",c,[s[7]||(s[7]=(0,r.Lk)("i",{class:"fas fa-cloud-upload-alt"},null,-1)),s[8]||(s[8]=(0,r.Lk)("h2",null,"Drop Trading Files Here",-1)),s[9]||(s[9]=(0,r.Lk)("p",null,"or",-1)),(0,r.Lk)("label",d,[(0,r.Lk)("input",{type:"file",onChange:s[0]||(s[0]=(...e)=>x.handleFileUpload&&x.handleFileUpload(...e)),accept:".txt",multiple:""},null,32),s[6]||(s[6]=(0,r.eW)(" Browse Files "))])])],34),o.uploading?((0,r.uX)(),(0,r.CE)("div",u,[(0,r.Lk)("div",p,[s[10]||(s[10]=(0,r.Lk)("i",{class:"fas fa-spinner fa-spin"},null,-1)),s[11]||(s[11]=(0,r.Lk)("h3",null,"Processing Files",-1)),(0,r.Lk)("p",null,(0,n.v_)(o.currentFile),1),(0,r.Lk)("div",k,[(0,r.Lk)("div",{class:"progress",style:(0,n.Tr)({width:o.progress+"%"})},null,4)]),(0,r.Lk)("p",f,(0,n.v_)(o.progress)+"% Complete",1)])])):(0,r.Q3)("",!0),a.baskets.length>0?((0,r.uX)(),(0,r.CE)("div",h,[(0,r.Lk)("h2",null,[s[12]||(s[12]=(0,r.Lk)("i",{class:"fas fa-chart-pie"},null,-1)),(0,r.eW)(" Trading Baskets ("+(0,n.v_)(a.baskets.length)+")",1)]),(0,r.Lk)("button",{class:"clear-all-btn",onClick:s[5]||(s[5]=(...e)=>x.clearAllBaskets&&x.clearAllBaskets(...e))},s[13]||(s[13]=[(0,r.Lk)("i",{class:"fas fa-trash-alt"},null,-1),(0,r.eW)(" Clear All Baskets ")]))])):(0,r.Q3)("",!0),a.baskets.length>0?((0,r.uX)(),(0,r.CE)("div",g,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(x.sortedBaskets,((e,a)=>((0,r.uX)(),(0,r.CE)("div",{key:a,class:(0,n.C4)(["basket-card",{"high-profit":x.isHighProfit(e)}])},[(0,r.Lk)("div",v,[(0,r.Lk)("h3",null,(0,n.v_)(e.name),1),(0,r.Lk)("button",{class:"delete-btn",onClick:e=>x.removeBasket(a)},s[14]||(s[14]=[(0,r.Lk)("i",{class:"fas fa-times"},null,-1)]),8,b)]),(0,r.Lk)("div",m,[(0,r.Lk)("div",L,[s[15]||(s[15]=(0,r.Lk)("span",{class:"label"},"Basket Time:",-1)),(0,r.Lk)("span",C,(0,n.v_)(e.date),1)]),(0,r.Lk)("div",w,[s[16]||(s[16]=(0,r.Lk)("span",{class:"label"},"Current Profit:",-1)),(0,r.Lk)("span",{class:(0,n.C4)(["value",x.getProfitClass(e.info["Current Profit"])])},(0,n.v_)(e.info["Current Profit"]),3)]),(0,r.Lk)("div",y,[s[17]||(s[17]=(0,r.Lk)("span",{class:"label"},"Max Profit:",-1)),(0,r.Lk)("span",F,(0,n.v_)(e.info["Max Profit"]),1)]),(0,r.Lk)("div",D,[s[18]||(s[18]=(0,r.Lk)("span",{class:"label"},"Max Drawdown:",-1)),(0,r.Lk)("span",B,(0,n.v_)(e.info["Max Drawdown"]),1)]),(0,r.Lk)("div",P,[s[19]||(s[19]=(0,r.Lk)("span",{class:"label"},"Trades:",-1)),(0,r.Lk)("span",E,(0,n.v_)(e.info["Number of Trades"]),1)])]),(0,r.Lk)("button",{class:"view-btn",onClick:s=>x.viewBasketDetails(e)}," View Details ",8,_)],2)))),128))])):((0,r.uX)(),(0,r.CE)("div",T,s[20]||(s[20]=[(0,r.Lk)("i",{class:"fas fa-inbox"},null,-1),(0,r.Lk)("p",null,"No baskets uploaded yet. Drop your trading files here to start.",-1)])))])}var $=a(788),O=a.n($);const A={name:"BasketList",props:{baskets:{type:Array,required:!0}},data(){return{isDragging:!1,uploading:!1,progress:0,currentFile:"",totalFiles:0,processedFiles:0}},computed:{sortedBaskets(){return[...this.baskets].sort(((e,s)=>{const a=new Date(e.date.replace(" ","T")),t=new Date(s.date.replace(" ","T"));return t-a}))}},methods:{parseDateFromBasketName(e){const s=e.match(/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/);if(s){const[e,a,t,r,l,o]=s;return`${a}-${t}-${r} ${l}:${o}`}return null},async handleFileUpload(e){console.log("File upload triggered",e.target.files),0!==e.target.files.length?await this.processFiles(e.target.files):console.log("No files selected")},async handleDrop(e){console.log("File drop triggered",e.dataTransfer.files),e.preventDefault(),0!==e.dataTransfer.files.length?await this.processFiles(e.dataTransfer.files):console.log("No files dropped")},async processFiles(e){this.uploading=!0,this.totalFiles=e.length,this.processedFiles=0;const s=[...this.baskets];for(let t of e){if(!t.name.endsWith(".txt"))continue;this.currentFile=`Processing ${t.name}`,this.progress=Math.round(this.processedFiles/this.totalFiles*100);const e=new FormData;e.append("file",t);try{const a=await O().post("/upload/",e,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!1,onUploadProgress:e=>{const s=Math.round(e.loaded/e.total*100);this.progress=Math.round((100*this.processedFiles+s)/this.totalFiles)}}),r=t.name.replace(".txt",""),l={name:r,info:a.data.info||{},charts:{profit:`${O().defaults.baseURL}${a.data.chart_urls.profit}`,pairs:`${O().defaults.baseURL}${a.data.chart_urls.pairs}`},date:this.parseDateFromBasketName(r)||"2025-01-01 00:00"};s.push(l),this.processedFiles++}catch(a){console.error("Upload failed:",a)}}this.progress=100,setTimeout((()=>{this.uploading=!1,this.progress=0,this.currentFile="",this.$emit("update-baskets",s)}),500)},removeBasket(e){const s=[...this.baskets];s.splice(e,1),this.$emit("update-baskets",s)},getProfitClass(e){return e>=0?"positive":"negative"},viewBasketDetails(e){this.$emit("view-basket",e)},handleDragOver(){this.isDragging=!0},handleDragLeave(){this.isDragging=!1},clearAllBaskets(){confirm("Are you sure you want to remove all baskets?")&&this.$emit("update-baskets",[])},isHighProfit(e){return parseFloat(e.info["Max Profit"])>100}}};var I=a(241);const X=(0,I.A)(A,[["render",x],["__scopeId","data-v-012cf111"]]),U=X,M={class:"basket-detail"},j={class:"detail-header"},W={class:"charts-container"},N={key:0,class:"chart-card"},R=["src"],q={key:1,class:"chart-card"},S=["src"],V={class:"stats-grid"},H={class:"stat-icon"};function Q(e,s,a,t,l,o){return(0,r.uX)(),(0,r.CE)("div",M,[(0,r.Lk)("div",j,[(0,r.Lk)("button",{class:"back-btn",onClick:s[0]||(s[0]=s=>e.$emit("back"))},s[3]||(s[3]=[(0,r.Lk)("i",{class:"fas fa-arrow-left"},null,-1),(0,r.eW)(" Back ")])),(0,r.Lk)("h2",null,(0,n.v_)(a.basket.name),1)]),(0,r.Lk)("div",W,[a.basket.charts.profit?((0,r.uX)(),(0,r.CE)("div",N,[(0,r.Lk)("img",{src:a.basket.charts.profit,alt:"Profit Chart",class:"chart-image",onError:s[1]||(s[1]=(...e)=>o.handleImageError&&o.handleImageError(...e))},null,40,R)])):(0,r.Q3)("",!0),a.basket.charts.pairs?((0,r.uX)(),(0,r.CE)("div",q,[(0,r.Lk)("img",{src:a.basket.charts.pairs,alt:"Pairs Chart",class:"chart-image",onError:s[2]||(s[2]=(...e)=>o.handleImageError&&o.handleImageError(...e))},null,40,S)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",V,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.basket.info,((e,s)=>((0,r.uX)(),(0,r.CE)("div",{key:s,class:(0,n.C4)(["stat-card",{"profit-card":s.includes("Profit")}])},[(0,r.Lk)("div",H,[(0,r.Lk)("i",{class:(0,n.C4)(o.getIconForStat(s))},null,2)]),(0,r.Lk)("p",{class:(0,n.C4)(o.getProfitClass(s,e))},(0,n.v_)(e),3),(0,r.Lk)("small",null,(0,n.v_)(s),1)],2)))),128))])])}const z={name:"BasketDetail",props:{basket:{type:Object,required:!0}},methods:{getIconForStat(e){const s={"Current Profit":"fas fa-dollar-sign","Max Profit":"fas fa-arrow-up","Max Drawdown":"fas fa-arrow-down","Open Basket Time":"fas fa-clock","Number of Trades":"fas fa-exchange-alt",default:"fas fa-chart-pie"};return s[e]||s.default},getProfitClass(e,s){if(!e.includes("Profit"))return"";const a=parseFloat(s.replace(/[^-\d.]/g,""));return a>=0?"positive":"negative"},handleImageError(e){console.error("Failed to load image:",e.target.src),e.target.style.display="none"}}},J=(0,I.A)(z,[["render",Q],["__scopeId","data-v-5099789a"]]),K=J,G={name:"App",components:{BasketList:U,BasketDetail:K},data(){return{selectedBasket:null,baskets:[]}},created(){const e=localStorage.getItem("baskets");if(e)try{this.baskets=JSON.parse(e)}catch(s){console.error("Error loading baskets:",s)}},methods:{selectBasket(e){this.selectedBasket=e},updateBaskets(e){this.baskets=e,localStorage.setItem("baskets",JSON.stringify(e))}}},Y=(0,I.A)(G,[["render",o]]),Z=Y,ee=(0,t.Ef)(Z);O().defaults.baseURL="https://b.fxturn.com",console.log("API Base URL:",O().defaults.baseURL),O().defaults.withCredentials=!1,O().defaults.timeout=3e4,O().defaults.headers.common={Accept:"application/json","Content-Type":"application/json"},O().interceptors.request.use((e=>("get"===e.method&&(e.params={...e.params,_t:Date.now()}),delete e.headers["Origin"],delete e.headers["Access-Control-Allow-Origin"],console.log("Request Config:",{url:e.url,method:e.method,headers:e.headers,withCredentials:e.withCredentials}),e)),(e=>(console.error("Request configuration error:",e),Promise.reject(e)))),O().interceptors.request.use((e=>(console.log("Making request:",{url:`${e.baseURL}${e.url}`,method:e.method,headers:e.headers,data:e.data}),e))),O().interceptors.response.use((e=>e),(e=>(console.error("Response Error:",e),e.response&&(console.error("Status:",e.response.status),console.error("Data:",e.response.data)),Promise.reject(e)))),ee.config.errorHandler=(e,s,a)=>{console.error("Vue Error:",e),console.error("Component:",s),console.error("Info:",a)},ee.config.warnHandler=(e,s,a)=>{console.warn("Vue Warning:",e),console.warn("Component:",s),console.warn("Trace:",a)},ee.config.globalProperties.$axios=O(),ee.mount("#app"),console.log("Vue app initialized")}},s={};function a(t){var r=s[t];if(void 0!==r)return r.exports;var l=s[t]={exports:{}};return e[t](l,l.exports,a),l.exports}a.m=e,(()=>{var e=[];a.O=(s,t,r,l)=>{if(!t){var o=1/0;for(d=0;d<e.length;d++){for(var[t,r,l]=e[d],n=!0,i=0;i<t.length;i++)(!1&l||o>=l)&&Object.keys(a.O).every((e=>a.O[e](t[i])))?t.splice(i--,1):(n=!1,l<o&&(o=l));if(n){e.splice(d--,1);var c=r();void 0!==c&&(s=c)}}return s}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[t,r,l]}})(),(()=>{a.n=e=>{var s=e&&e.__esModule?()=>e["default"]:()=>e;return a.d(s,{a:s}),s}})(),(()=>{a.d=(e,s)=>{for(var t in s)a.o(s,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s)})(),(()=>{var e={524:0};a.O.j=s=>0===e[s];var s=(s,t)=>{var r,l,[o,n,i]=t,c=0;if(o.some((s=>0!==e[s]))){for(r in n)a.o(n,r)&&(a.m[r]=n[r]);if(i)var d=i(a)}for(s&&s(t);c<o.length;c++)l=o[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},t=self["webpackChunkbackvue_frontend"]=self["webpackChunkbackvue_frontend"]||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})();var t=a.O(void 0,[504],(()=>a(267)));t=a.O(t)})();
//# sourceMappingURL=app.js.map